{"version":3,"file":"erpnext_helper.js","sources":["../../../apps/erpnext_helper/erpnext_helper/public/js/toolbar.js","../../../apps/erpnext_helper/erpnext_helper/public/js/email_notice.js"],"sourcesContent":["// Copyright (c) 2019, Frappe Technologies Pvt. Ltd.\n// For license information, please see license.txt\n\n$(document).on(\"toolbar_setup\", function() {\n    if(!frappe.versions) {\n        frappe.call({\n            method: \"frappe.utils.change_log.get_versions\",\n            callback: function(r) {\n                frappe.versions = r.message;\n                setup_toolbar();\n            }\n        });\n    }\n\n    function setup_toolbar() {\n        $(\n            \"<li><a href='https://erpnext.com/support' target='_blank' rel='noopener noreferrer'>\"\n            + __(\"Need Support?\")\n            + \"</a></li>\"\n        ).insertAfter($(\"#toolbar-help\").find(\"li:first\"));\n    }\n});\n","// Copyright (c) 2020, Frappe Technologies Pvt. Ltd.\n// For license information, please see license.txt\n\n$(window).bind('hashchange', function () {\n    if (frappe.get_route_str() === \"modules/Settings\") {\n        frappe.db.get_doc(\"Helper System Settings\")\n            .then(helper_settings => {\n                if (helper_settings.email_message_status === \"unread\") {\n                    frappe.msgprint({\n                        title: __(\"Email Notice\"),\n                        message: __(\n                            \"<h5>\"\n                            + \"For DigitalOcean Users\"\n                            + \"</h5>\"\n                            + \"<h5>\"\n                            + \"New accounts may not have SMTP access enabled until they are verified and have payment history. \"\n                            + \"In this case, your ERPNext instance may not be able to push emails out and will likely be stuck in the <i>Email Queue</i>\"\n                            + \"</h5>\"\n                        ),\n                        wide: true\n                    }).keep_open = true;\n                    frappe.db.set_value(\"Helper System Settings\", \"Helper System Settings\", \"email_message_status\", \"read\")\n                }\n            })\n    }\n});\n\n"],"names":["$","document","on","frappe","versions","call","method","callback","r","message","__","insertAfter","find","window","bind","get_route_str","db","get_doc","then","helper_settings","email_message_status","msgprint","title","wide","keep_open","set_value"],"mappings":"yBAGAA,EAAEC,UAAUC,GAAG,gBAAiB,WACxBC,OAAOC,UACPD,OAAOE,KAAK,CACRC,OAAQ,uCACRC,SAAU,SAASC,GACfL,OAAOC,SAAWI,EAAEC,QAO5BT,EACI,uFACEU,GAAG,iBACH,aACJC,YAAYX,EAAE,iBAAiBY,KAAK,kBChB9CZ,EAAEa,QAAQC,KAAK,aAAc,WACM,qBAA3BX,OAAOY,iBACPZ,OAAOa,GAAGC,QAAQ,0BACbC,cAAKC,GAC2C,WAAzCA,EAAgBC,uBAChBjB,OAAOkB,SAAS,CACZC,MAAOZ,GAAG,gBACVD,QAASC,GACL,qQAQJa,MAAM,IACPC,WAAY,EACfrB,OAAOa,GAAGS,UAAU,yBAA0B,yBAA0B,uBAAwB"}